{% extends "base.html" %}

{% block title %}Pozitivn√≠ zpr√°vy ‚Äì Jen ty nejlep≈°√≠ zpr√°vy z cel√©ho svƒõta{% endblock %}

{% block content %}
  {% if articles %}
    <!-- 2-sloupcov√Ω grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      {% for article in articles %}
        <article class="bg-white rounded-2xl shadow-sm overflow-hidden hover:shadow-lg transition-shadow duration-300 flex flex-col border border-blue-50">
          <!-- Image -->
          <a href="/clanek/{{ article.id }}" class="block overflow-hidden">
            <img
              src="{{ article.image_url or 'https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800&q=80' }}"
              alt="{{ article.image_alt or article.title }}"
              class="w-full h-44 object-cover hover:scale-105 transition-transform duration-500"
            />
          </a>

          <div class="p-5 flex flex-col flex-1">
            <!-- Score + zdroj -->
            <div class="flex items-center gap-2 mb-2">
              <span class="score-badge">‚≠ê {{ "%.1f"|format(article.positivity_score) }}/10</span>
              <span class="text-xs text-gray-400 truncate">{{ article.source_name }}</span>
            </div>

            <!-- Title -->
            <h2 class="text-base font-bold text-gray-800 mb-2 leading-snug line-clamp-2">
              <a href="/clanek/{{ article.id }}" class="hover:text-blue-600 transition-colors">
                {{ article.title }}
              </a>
            </h2>

            <!-- Excerpt -->
            <p class="text-gray-500 text-sm leading-relaxed flex-1 line-clamp-2">
              {{ article.content[:140] }}‚Ä¶
            </p>

            <!-- Date + Read more -->
            <div class="mt-4 flex items-center justify-between">
              <span class="text-xs text-gray-400">
                üìÖ {{ article.created_at.strftime('%d.%m.%Y') if article.created_at else '' }}
              </span>
              <a href="/clanek/{{ article.id }}"
                 class="inline-block bg-blue-500 hover:bg-blue-600 text-white font-semibold px-4 py-1.5 rounded-full text-sm transition-colors">
                ƒå√≠st ‚Üí
              </a>
            </div>
          </div>
        </article>
      {% endfor %}
    </div>

    <!-- Archive link -->
    <div class="text-center mt-10">
      <a href="/archiv"
         class="inline-block border-2 border-blue-400 text-blue-500 hover:bg-blue-500 hover:text-white font-semibold px-8 py-3 rounded-full transition-colors">
        Zobrazit archiv v≈°ech ƒçl√°nk≈Ø
      </a>
    </div>

  {% else %}
    <!-- Empty state -->
    <div class="text-center py-24">
      <div class="text-6xl mb-6">‚è≥</div>
      <h2 class="text-2xl font-bold text-gray-700 mb-3">P≈ôipravujeme prvn√≠ zpr√°vy</h2>
      <p class="text-gray-500 max-w-md mx-auto">
        Web pr√°vƒõ spustil prvn√≠ vyhled√°v√°n√≠ pozitivn√≠ch zpr√°v. Zpravidla to trv√° 2‚Äì3 minuty.
        Str√°nku brzy obnovte.
      </p>
      <script>setTimeout(() => location.reload(), 30000);</script>
    </div>
  {% endif %}
{% endblock %}
